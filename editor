#!/bin/bash
gforth -e 'use blocked.fb 1 load editor create copybuf 1024 allot variable copy# : copycount  ( from-line to-line -- from-line )  1+ over - 64 * copy# !  ; : clearcopybuf copybuf 1024 bl fill  ; : copy  ( from-line to-line -- )  clearcopybuf copycount scr @ block + copybuf copy# @ cmove>  ; : cut   ( from-line to-line -- )  clearcopybuf copycount scr @ block + dup copybuf copy# @ cmove> copy# @ bl fill v update ; : current-line r# @ 64 / ; : paste   copybuf scr @ block current-line 64 * + copy# @ cmove> v update  ; use core.f'